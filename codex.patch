 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/Page/Home/home.html b/Page/Home/home.html
index 9f583e182b863deb2ab363adaeee5a470df5e05d..9676e764b200818e91067f1a1075005922cbbf81 100644
--- a/Page/Home/home.html
+++ b/Page/Home/home.html
@@ -34,85 +34,28 @@
             aria-label="View profile"
             title="View profile"
           >
             <img src="../../assets/img/person.png" alt="User profile icon" />
           </a>
         </div>
       </nav>
     </header>
 
     <main class="home-main">
       <section class="hero">
         <h1>RAILLY</h1>
         <p>
           the easy way to book, manage, and track your train tickets.<br>
           Fast bookings, real-time updates, and seamless travel planningâ€”all in one place.
         </p>        
         <button id="book-ticket-btn">BOOK YOUR TICKET NOW</button>
       </section>
     </main>
 
     <footer class="home-footer">
       <p>CHADANG</p>
     </footer>
   </div>
 
-  <script>
-    document.addEventListener('DOMContentLoaded', () => {
-      const context = window.userSession ? window.userSession.getUserContext() : null;
-
-      if (window.userSession) {
-        window.userSession.applyUserContextToLinks('.main-nav a, .brand, .user-profile-link');
-      }
-
-      const loginLink = document.querySelector('.login-link');
-      const signupBtn = document.querySelector('.signup-btn');
-      const userProfileLink = document.querySelector('.user-profile-link');
-
-      if (context && context.username && context.id) {
-        if (loginLink) {
-          loginLink.classList.add('is-hidden');
-        }
-
-        if (signupBtn) {
-          signupBtn.classList.add('is-hidden');
-        }
-
-        if (userProfileLink) {
-          userProfileLink.classList.remove('is-hidden');
-          if (window.userSession) {
-            window.userSession.applyUserContextToLinks('.user-profile-link');
-          }
-        }
-      } else {
-        if (loginLink) {
-          loginLink.classList.remove('is-hidden');
-          loginLink.removeAttribute('id');
-          loginLink.classList.remove('logout-link');
-          loginLink.href = '../Login/Login.html';
-        }
-
-        if (signupBtn) {
-          signupBtn.classList.remove('is-hidden', 'user-pill');
-          signupBtn.href = '../Signup/Signup.html';
-        }
-
-        if (userProfileLink) {
-          userProfileLink.classList.add('is-hidden');
-        }
-      }
-
-      const bookTicketButton = document.getElementById('book-ticket-btn');
-      if (bookTicketButton) {
-        bookTicketButton.addEventListener('click', () => {
-          const bookingUrl = new URL('../Booking/Booking.html', window.location.href);
-          if (context && context.username && context.id) {
-            bookingUrl.searchParams.set('username', context.username);
-            bookingUrl.searchParams.set('id', context.id);
-          }
-          window.location.href = bookingUrl.href;
-        });
-      }
-    });
-  </script>
+  <script src="./home.js" defer></script>
 </body>
 </html>
 
EOF
)